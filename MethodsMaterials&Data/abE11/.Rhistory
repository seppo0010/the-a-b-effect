abE11 <- select(abE11, oid = ResponseId, xAB1, xAB2, xAB3, xAB4, xAB5, xAB6,
xAB7, xAB8, xAB9, xAB10, xAB11, free_response	)
rm(list = ls())
library(tidyverse)
abE11 <- read_csv("/Users/gsholtzman/Google Drive/Geisinger 2017/AB illusion/abE11/abE11_raw.csv")
View(abE11)
abE11 <- abE11[-(1:2),]
abE11 <- select(abE11, oid = ResponseId, xAB1, xAB2, xAB3, xAB4, xAB5, xAB6,
xAB7, xAB8, xAB9, xAB10, xAB11, free_response	)
abE11 <- select(abE11, oid = ResponseId, xAB1, xAB2, xAB3, xAB4, xAB5, xAB6,
xAB7, xAB8, xAB9, xAB10, xAB11, free_response)
rm(list = ls())
library(tidyverse)
abE11 <- read_csv("/Users/gsholtzman/Google Drive/Geisinger 2017/AB illusion/abE11/abE11_raw.csv")
abE11 <- abE11[-(1:2),]
abE11 <- select(abE11, oid = ResponseId, xAB1, xAB2, xAB3, xAB4, xAB5, xAB6,
xAB7, xAB8, xAB9, xAB10, xAB11)
abE11$pid <- 1:nrow(abE11)
View(abE11)
abE11[is.na(abE11)] <- 0
abE11 <- mutate(abE11, dv = as.numeric(xAB1) +	as.numeric(xAB2) + as.numeric(xAB3) + as.numeric(xAB4)
+ as.numeric(xAB5) + as.numeric(xAB6) + as.numeric(xAB7) + as.numeric(xAB8)
+ as.numeric(xAB9) + as.numeric(xAB10) + as.numeric(xAB11))
abE11[,"cond"] <- 0
abE11$cond[abE11$xAB1 > 0] <- "xAB1"
abE11$cond[abE11$xAB2 > 0] <- "xAB2"
abE11$cond[abE11$xAB3 > 0] <- "xAB3"
abE11$cond[abE11$xAB4 > 0] <- "xAB4"
abE11$cond[abE11$xAB5 > 0] <- "AB5"
abE11$cond[abE11$xAB6 > 0] <- "AB6"
abE11$cond[abE11$xAB7 > 0] <- "AB7"
abE11$cond[abE11$xAB8 > 0] <- "AB8"
abE11$cond[abE11$xAB9 > 0] <- "AB9"
abE11$cond[abE11$xAB10 > 0] <- "AB10"
abE11$cond[abE11$xAB11 > 0] <- "AB11"
abE11 <- mutate(abE11, condLabel = cond)
cond <- as.factor(abE11$condLabel)
abE11$condLabel <- plyr::revalue(as.factor(abE11$condLabel), c("xAB1"="Hours", "xAB2"="Drug",
"xAB3"="Oxygen", "xAB4"="Welfare", "xAB5"="Teachers", "xAB6"="HAssistants", "xAB7"="Scopes",  "xAB8"="Charity",
"xAB9"="Income", "xAB10"="Funds",  "xAB11"="DrugTeach"))
abE11$cond[abE11$xAB2 > 0] <- "xAB2"
abE11$cond[abE11$xAB3 > 0] <- "xAB3"
abE11$cond[abE11$xAB4 > 0] <- "xAB4"
abE11$cond[abE11$xAB5 > 0] <- "xAB5"
abE11$cond[abE11$xAB6 > 0] <- "xAB6"
abE11$cond[abE11$xAB7 > 0] <- "xAB7"
abE11$cond[abE11$xAB8 > 0] <- "xAB8"
abE11$cond[abE11$xAB9 > 0] <- "xAB9"
abE11$cond[abE11$xAB10 > 0] <- "xAB10"
abE11$cond[abE11$xAB11 > 0] <- "xAB11"
abE11 <- mutate(abE11, condLabel = cond)
cond <- as.factor(abE11$condLabel)
abE11$condLabel <- plyr::revalue(as.factor(abE11$condLabel), c("xAB1"="Hours", "xAB2"="Drug",
"xAB3"="Oxygen", "xAB4"="Welfare", "xAB5"="Teachers", "xAB6"="HAssistants", "xAB7"="Scopes",  "xAB8"="Charity",
"xAB9"="Income", "xAB10"="Funds",  "xAB11"="DrugTeach"))
abE11 <- abE11%>%select(pid,cond, condLabel, dv, FreeResponse, everything())
abE11 <- abE11%>%select(pid,cond, condLabel, dv, everything())
write.csv(abE11, "abE11.csv", row.names=FALSE)
View(abE11)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
setwd("/Users/gsholtzman/Google Drive/Geisinger 2017/AB illusion/abE11")
#Load packages
library(tidyverse) #for ggplot and filter
library(readxl) #for read
library(effsize) #for cohens d
library(gridExtra) #for multi plots
library(psy) #for alpha
library(scales) #for colors
library(Rmisc) #for summary stats
library(knitr)
library(kableExtra)
library(broom)
abE11 <- read.csv("/Users/gsholtzman/Google Drive/Geisinger 2017/AB illusion/abE11/abE11.csv")
abE11[is.na(abE11)] <- 0
ggplot(abE11) +
geom_bar(mapping = aes(x = dv, y = (..prop..)*100), fill = 'green', color = 'grey', width = .75) +
facet_wrap(~ condLabel, ncol = 4) +
scale_y_continuous(limits=c(0, 100), expand = c(0,0), breaks = seq(0, 100, 20), minor_breaks = seq(0, 100, 10)) +
theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank(), panel.background = element_blank()) +
ylab('% participants providing each rating') +
xlab('Appropriateness (1. Very Inappropriate <---> 5. Very Appropriate)')
abE11summary <- summarySE(abE11, measurevar="dv", groupvars="condLabel")
kable(abE11summary, digits = 2)
ggplot(abE11summary, aes(x=condLabel, y=dv)) +
geom_bar(stat="identity", fill = 'green', color = 'grey', width = .5) +
geom_errorbar(aes(ymin=dv-se, ymax=dv+se), width = .1) +
ylab('Mean Rated Appropriateness (SE & 95% CI)') +
xlab('Condition') +
theme(panel.grid.major.y = element_line(colour = "black"),panel.grid.minor = element_blank(), panel.background = element_blank())+
theme(axis.text.x = element_text(angle = 320, hjust = 0)) +
scale_y_continuous(limits=c(0, 5), expand = c(0,0), breaks = seq(0, 5, 1)) +
scale_x_discrete(expand = c(0,0)
xlab('Condition') +
ggplot(abE7summary, aes(x=condLabel, y=dv)) +
geom_bar(stat="identity", fill = 'light blue', color = 'black', width = .5) +
geom_errorbar(aes(ymin=dv-se, ymax=dv+se), width = .1) +
ylab('Mean Rated Appropriateness') +
xlab('Condition') +
theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(angle = 320, hjust = 0)) +
ylim(c(0,5))
ggplot(abE9summary, aes(x=condLabel, y=dv)) +
geom_bar(stat="identity", fill = 'light blue', color = 'black', width = .5) +
geom_errorbar(aes(ymin=dv-se, ymax=dv+se), width = .1) +
ylab('Mean Rated Appropriateness') +
xlab('Condition') +
theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(angle = 320, hjust = 0)) +
ylim(c(0,5))
ggplot(abE11summary, aes(x=condLabel, y=dv)) +
geom_bar(stat="identity", fill = 'light blue', color = 'black', width = .5) +
geom_errorbar(aes(ymin=dv-se, ymax=dv+se), width = .1) +
ylab('Mean Rated Appropriateness') +
xlab('Condition') +
theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(angle = 320, hjust = 0)) +
ylim(c(0,5))
ggplot(abE11summary, aes(x=condLabel, y=dv)) +
geom_bar(stat="identity", fill = 'light blue', color = 'black', width = .5) +
geom_errorbar(aes(ymin=dv-se, ymax=dv+se), width = .1) +
ylab('Mean Rated Appropriateness') +
xlab('Condition') +
theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(angle = 320, hjust = 0)) +
ylim(c(0,5))
ggplot(abE11summary, aes(x=condLabel, y=dv)) +
geom_bar(stat="identity", fill = 'light blue', color = 'black', width = .5) +
geom_errorbar(aes(ymin=dv-se, ymax=dv+se), width = .1) +
ylab('Mean Rated Appropriateness') +
xlab('Condition') +
theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(angle = 320, hjust = 0)) +
scale_y_continuous(limits=c(0, 5), expand = c(0,0), breaks = seq(0, 5, 1)) +
scale_x_discrete(expand = c(0,0)
ylim(c(0,5))
ggplot(abE11summary, aes(x=condLabel, y=dv)) +
geom_bar(stat="identity", fill = 'light blue', color = 'black', width = .5) +
geom_errorbar(aes(ymin=dv-se, ymax=dv+se), width = .1) +
ylab('Mean Rated Appropriateness') +
xlab('Condition') +
theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(angle = 320, hjust = 0)) +
scale_y_continuous(limits=c(0, 5), expand = c(0,0), breaks = seq(0, 5, 1))
ggplot(abE11summary, aes(x=condLabel, y=dv)) +
geom_bar(stat="identity", fill = 'light blue', color = 'black', width = .5) +
geom_errorbar(aes(ymin=dv-se, ymax=dv+se), width = .1) +
ylab('Mean Rated Appropriateness') +
xlab('Condition') +
theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(angle = 320, hjust = 0)) +
scale_y_continuous(limits=c(0, 5), expand = c(0,0), breaks = seq(0, 5, 1)) +
scale_x_discrete(expand = c(0,0)
ylim(c(0,5))
ggplot(abE11summary, aes(x=condLabel, y=dv)) +
geom_bar(stat="identity", fill = 'light blue', color = 'black', width = .5) +
geom_errorbar(aes(ymin=dv-se, ymax=dv+se), width = .1) +
ylab('Mean Rated Appropriateness') +
xlab('Condition') +
theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(angle = 320, hjust = 0))
ggplot(abE11summary, aes(x=condLabel, y=dv)) +
geom_bar(stat="identity", fill = 'green', color = 'grey', width = .5) +
geom_errorbar(aes(ymin=dv-se, ymax=dv+se), width = .1) +
geom_errorbar(aes(ymin=dv-sd, ymax=dv+sd), width = .1) +
ylab('Mean Rated Appropriateness (SE & 95% CI)') +
xlab('Condition') +
theme(panel.grid.major.y = element_line(colour = "black"),panel.grid.minor = element_blank(), panel.background = element_blank())+
theme(axis.text.x = element_text(angle = 320, hjust = 0)) +
scale_y_continuous(limits=c(0, 5), expand = c(0,0), breaks = seq(0, 5, 1)) +
scale_x_discrete(expand = c(0,0)
,
labels=c("xA1"="gene.actionable", "xA2"="gene.all", "xAB1s"="gene.ABS", "xAB1l"="gene.ABL", "xA2"="AV.lever", "xB2"="AV.auto", "xAB2s"="AV.ABS",  "xAB2l"="AV.ABS"))
rm(list = ls())
setwd("/Users/gsholtzman/Google Drive/Geisinger 2017/AB illusion/abE11")
library(tidyverse) #for ggplot and filter
library(readxl) #for read
library(effsize) #for cohens d
library(gridExtra) #for multi plots
library(psy) #for alpha
library(scales) #for colors
library(Rmisc) #for summary stats
library(knitr)
library(kableExtra)
library(broom)
abE11 <- read.csv("/Users/gsholtzman/Google Drive/Geisinger 2017/AB illusion/abE11/abE11.csv")
ggplot(abE11) +
geom_bar(mapping = aes(x = dv, y = (..prop..)*100), fill = 'green', color = 'grey', width = .75) +
facet_wrap(~ condLabel, ncol = 4) +
scale_y_continuous(limits=c(0, 100), expand = c(0,0), breaks = seq(0, 100, 20), minor_breaks = seq(0, 100, 10)) +
theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank(), panel.background = element_blank()) +
ylab('% participants providing each rating') +
xlab('Appropriateness (1. Very Inappropriate <---> 5. Very Appropriate)')
View(abE11)
abE11$condLabel <- plyr::revalue(as.factor(abE11$condLabel), c("xAB1"="Hours", "xAB2"="Drug",
"xAB3"="Oxygen", "xAB4"="Welfare", "xAB5"="Teachers", "xAB6"="HAssistants", "xAB7"="Scopes",  "xAB8"="Charity",
"xAB9"="Income", "xAB10"="Funds",  "xAB11"="DrugTeach"))
ggplot(abE11summary, aes(x=condLabel, y=dv)) +
geom_bar(stat="identity", fill = 'light blue', color = 'black', width = .5) +
geom_errorbar(aes(ymin=dv-se, ymax=dv+se), width = .1) +
ylab('Mean Rated Appropriateness') +
xlab('Condition') +
theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(angle = 320, hjust = 0))
rm(list = ls())
setwd("/Users/gsholtzman/Google Drive/Geisinger 2017/AB illusion/abE11")
library(tidyverse) #for ggplot and filter
library(readxl) #for read
library(effsize) #for cohens d
library(gridExtra) #for multi plots
library(psy) #for alpha
library(scales) #for colors
library(Rmisc) #for summary stats
library(knitr)
library(kableExtra)
library(broom)
abE11 <- read.csv("/Users/gsholtzman/Google Drive/Geisinger 2017/AB illusion/abE11/abE11.csv")
ggplot(abE11) +
geom_bar(mapping = aes(x = dv, y = (..prop..)*100), fill = 'green', color = 'grey', width = .75) +
facet_wrap(~ condLabel, ncol = 4) +
scale_y_continuous(limits=c(0, 100), expand = c(0,0), breaks = seq(0, 100, 20), minor_breaks = seq(0, 100, 10)) +
theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank(), panel.background = element_blank()) +
ylab('% participants providing each rating') +
xlab('Appropriateness (1. Very Inappropriate <---> 5. Very Appropriate)')
abE11summary <- summarySE(abE11, measurevar="dv", groupvars="condLabel")
kable(abE11summary, digits = 2)
ggplot(abE11summary, aes(x=condLabel, y=dv)) +
geom_bar(stat="identity", fill = 'light blue', color = 'black', width = .5) +
geom_errorbar(aes(ymin=dv-se, ymax=dv+se), width = .1) +
ylab('Mean Rated Appropriateness') +
xlab('Condition') +
theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(angle = 320, hjust = 0))
ggplot(abE11summary, aes(x=condLabel, y=dv)) +
geom_bar(stat="identity", fill = 'light blue', color = 'black', width = .5) +
geom_errorbar(aes(ymin=dv-se, ymax=dv+se), width = .1) +
ylab('Mean Rated Appropriateness') +
xlab('Condition') +
theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(angle = 320, hjust = 0))
# Find and replace all instances of based on number of experiment n and condition names:
#1. "abE11"
#2. "aCondition"
#3. "bCondition"
#4. "abConditionS"
#5. "abConditionL"
#NOTE: "xA"="aCondition", "xB"="bCondition", "xAB"="abCondition"
#Clear environment, load packages, import data
rm(list = ls())
library(tidyverse)
abE11 <- read_csv("/Users/gsholtzman/Google Drive/Geisinger 2017/AB illusion/abE11/abE11_raw.csv")
#Delete rows 2 and 3
abE11 <- abE11[-(1:2),]
#Preserve only desired columns and rename columns
abE11 <- select(abE11, oid = ResponseId, xAB1, xAB2, xAB3, xAB4, xAB5, xAB6,
xAB7, xAB8, xAB9, xAB10, xAB11)
#Create participant IDs
abE11$pid <- 1:nrow(abE11)
#Create column "dv" with all ratings
abE11[is.na(abE11)] <- 0
abE11 <- mutate(abE11, dv = as.numeric(xAB1) +	as.numeric(xAB2) + as.numeric(xAB3) + as.numeric(xAB4)
+ as.numeric(xAB5) + as.numeric(xAB6) + as.numeric(xAB7) + as.numeric(xAB8)
+ as.numeric(xAB9) + as.numeric(xAB10) + as.numeric(xAB11))
#Create column "cond" with generic condition
abE11[,"cond"] <- 0
abE11$cond[abE11$xAB1 > 0] <- "xAB1"
abE11$cond[abE11$xAB2 > 0] <- "xAB2"
abE11$cond[abE11$xAB3 > 0] <- "xAB3"
abE11$cond[abE11$xAB4 > 0] <- "xAB4"
abE11$cond[abE11$xAB5 > 0] <- "xAB5"
abE11$cond[abE11$xAB6 > 0] <- "xAB6"
abE11$cond[abE11$xAB7 > 0] <- "xAB7"
abE11$cond[abE11$xAB8 > 0] <- "xAB8"
abE11$cond[abE11$xAB9 > 0] <- "xAB9"
abE11$cond[abE11$xAB10 > 0] <- "xAB10"
abE11$cond[abE11$xAB11 > 0] <- "xAB11"
#Create column "condLabel"
abE11 <- mutate(abE11, condLabel = cond)
cond <- as.factor(abE11$condLabel)
abE11$condLabel <- plyr::revalue(as.factor(abE11$condLabel), c("xAB1"="Hours", "xAB2"="Drug",
"xAB3"="Oxygen", "xAB4"="Welfare", "xAB5"="Teachers", "xAB6"="HAssistants", "xAB7"="Scopes",  "xAB8"="Charity",
"xAB9"="Income", "xAB10"="Funds",  "xAB11"="DrugTeach"))
#Rearrange columns for easier viewing and coding.
abE11 <- abE11%>%select(pid,cond, condLabel, dv, everything())
#Save text file
write.csv(abE11, "abE11.csv", row.names=FALSE)
View(abE11)
# Find and replace all instances of based on number of experiment n and condition names:
#1. "abE11"
#2. "aCondition"
#3. "bCondition"
#4. "abConditionS"
#5. "abConditionL"
#NOTE: "xA"="aCondition", "xB"="bCondition", "xAB"="abCondition"
#Clear environment, load packages, import data
rm(list = ls())
library(tidyverse)
abE11 <- read_csv("/Users/gsholtzman/Google Drive/Geisinger 2017/AB illusion/abE11/abE11_raw.csv")
#Delete rows 2 and 3
abE11 <- abE11[-(1:2),]
#Preserve only desired columns and rename columns
abE11 <- select(abE11, oid = ResponseId, xAB1, xAB2, xAB3, xAB4, xAB5, xAB6,
xAB7, xAB8, xAB9, xAB10, xAB11)
#Create participant IDs
abE11$pid <- 1:nrow(abE11)
#Create column "dv" with all ratings
abE11[is.na(abE11)] <- 0
abE11 <- mutate(abE11, dv = as.numeric(xAB1) +	as.numeric(xAB2) + as.numeric(xAB3) + as.numeric(xAB4)
+ as.numeric(xAB5) + as.numeric(xAB6) + as.numeric(xAB7) + as.numeric(xAB8)
+ as.numeric(xAB9) + as.numeric(xAB10) + as.numeric(xAB11))
#Create column "cond" with generic condition
abE11[,"cond"] <- 0
abE11$cond[abE11$xAB1 > 0] <- "xAB1"
abE11$cond[abE11$xAB2 > 0] <- "xAB2"
abE11$cond[abE11$xAB3 > 0] <- "xAB3"
abE11$cond[abE11$xAB4 > 0] <- "xAB4"
abE11$cond[abE11$xAB5 > 0] <- "xAB5"
abE11$cond[abE11$xAB6 > 0] <- "xAB6"
abE11$cond[abE11$xAB7 > 0] <- "xAB7"
abE11$cond[abE11$xAB8 > 0] <- "xAB8"
abE11$cond[abE11$xAB9 > 0] <- "xAB9"
abE11$cond[abE11$xAB10 > 0] <- "xAB10"
abE11$cond[abE11$xAB11 > 0] <- "xAB11"
#Create column "condLabel"
abE11 <- mutate(abE11, condLabel = cond)
cond <- as.factor(abE11$condLabel)
abE11$condLabel <- plyr::revalue(as.factor(abE11$condLabel), c("xAB1"="Hours", "xAB2"="Drug",
"xAB3"="Oxygen", "xAB4"="Welfare", "xAB5"="Teachers", "xAB6"="HAssistants", "xAB7"="Scopes",  "xAB8"="Charity",
"xAB9"="Income", "xAB10"="Funds",  "xAB11"="DrugTeach"))
#Rearrange columns for easier viewing and coding.
abE11 <- abE11%>%select(pid,cond, condLabel, dv, everything())
#Save text file
write.csv(abE11, "abE11.csv", row.names=FALSE)
View(abE11)
# Find and replace all instances of based on number of experiment n and condition names:
#1. "abE11"
#2. "aCondition"
#3. "bCondition"
#4. "abConditionS"
#5. "abConditionL"
#NOTE: "xA"="aCondition", "xB"="bCondition", "xAB"="abCondition"
#Clear environment, load packages, import data
rm(list = ls())
library(tidyverse)
abE11 <- read_csv("/Users/gsholtzman/Google Drive/Geisinger 2017/AB illusion/abE11/abE11_raw.csv")
#Delete rows 2 and 3
abE11 <- abE11[-(1:2),]
View(abE11)
# Find and replace all instances of based on number of experiment n and condition names:
#1. "abE11"
#2. "aCondition"
#3. "bCondition"
#4. "abConditionS"
#5. "abConditionL"
#NOTE: "xA"="aCondition", "xB"="bCondition", "xAB"="abCondition"
#Clear environment, load packages, import data
rm(list = ls())
library(tidyverse)
abE11 <- read_csv("/Users/gsholtzman/Google Drive/Geisinger 2017/AB illusion/abE11/abE11_raw.csv")
View(abE11)
#Delete rows 2 and 3
abE11 <- abE11[-(1:2),]
#Preserve only desired columns and rename columns
abE11 <- select(abE11, oid = ResponseId, xAB1, xAB2, xAB3, xAB4, xAB5, xAB6,
xAB7, xAB8, xAB9, xAB10, xAB11)
#Create participant IDs
abE11$pid <- 1:nrow(abE11)
abE11[is.na(abE11)] <- 0
abE11 <- mutate(abE11, dv = as.numeric(xAB1) +	as.numeric(xAB2) + as.numeric(xAB3) + as.numeric(xAB4)
+ as.numeric(xAB5) + as.numeric(xAB6) + as.numeric(xAB7) + as.numeric(xAB8)
+ as.numeric(xAB9) + as.numeric(xAB10) + as.numeric(xAB11))
#Create column "cond" with generic condition
abE11[,"cond"] <- 0
abE11$cond[abE11$xAB1 > 0] <- "xAB1"
abE11$cond[abE11$xAB2 > 0] <- "xAB2"
abE11$cond[abE11$xAB3 > 0] <- "xAB3"
abE11$cond[abE11$xAB4 > 0] <- "xAB4"
abE11$cond[abE11$xAB5 > 0] <- "xAB5"
abE11$cond[abE11$xAB6 > 0] <- "xAB6"
abE11$cond[abE11$xAB7 > 0] <- "xAB7"
abE11$cond[abE11$xAB8 > 0] <- "xAB8"
abE11$cond[abE11$xAB9 > 0] <- "xAB9"
abE11$cond[abE11$xAB10 > 0] <- "xAB10"
abE11$cond[abE11$xAB11 > 0] <- "xAB11"
#Create column "cond" with generic condition
abE11[,"cond"] <- 0
abE11$cond[abE11$xAB1 > 0] <- "xAB1"
abE11$cond[abE11$xAB2 > 0] <- "xAB2"
abE11$cond[abE11$xAB3 > 0] <- "xAB3"
abE11$cond[abE11$xAB4 > 0] <- "xAB4"
abE11$cond[abE11$xAB5 > 0] <- "xAB5"
abE11$cond[abE11$xAB6 > 0] <- "xAB6"
abE11$cond[abE11$xAB7 > 0] <- "xAB7"
abE11$cond[abE11$xAB8 > 0] <- "xAB8"
abE11$cond[abE11$xAB9 > 0] <- "xAB9"
abE11$cond[abE11$xAB10 > 0] <- "xAB10"
abE11$cond[abE11$xAB11 > 0] <- "xAB11"
#Create column "condLabel"
abE11 <- mutate(abE11, condLabel = cond)
cond <- as.factor(abE11$condLabel)
abE11$condLabel <- plyr::revalue(as.factor(abE11$condLabel), c("xAB1"="Hours", "xAB2"="Drug",
"xAB3"="Oxygen", "xAB4"="Welfare", "xAB5"="Teachers", "xAB6"="HAssistants", "xAB7"="Scopes",  "xAB8"="Charity",
"xAB9"="Income", "xAB10"="Funds",  "xAB11"="DrugTeach"))
#Create column "cond" with generic condition
abE11[,"cond"] <- 0
abE11$cond[abE11$xAB1 > 0] <- "xAB1"
abE11$cond[abE11$xAB2 > 0] <- "xAB2"
abE11$cond[abE11$xAB3 > 0] <- "xAB3"
abE11$cond[abE11$xAB4 > 0] <- "xAB4"
abE11$cond[abE11$xAB5 > 0] <- "xAB5"
abE11$cond[abE11$xAB6 > 0] <- "xAB6"
abE11$cond[abE11$xAB7 > 0] <- "xAB7"
abE11$cond[abE11$xAB8 > 0] <- "xAB8"
abE11$cond[abE11$xAB9 > 0] <- "xAB9"
abE11$cond[abE11$xAB10 > 0] <- "xAB10"
abE11$cond[abE11$xAB11 > 0] <- "xAB11"
#Create column "condLabel"
abE11 <- mutate(abE11, condLabel = cond)
cond <- as.factor(abE11$condLabel)
abE11$condLabel <- plyr::revalue(as.factor(abE11$condLabel), c("xAB1"="Hours", "xAB2"="Drug",
"xAB3"="Oxygen", "xAB4"="Welfare", "xAB5"="Teachers", "xAB6"="HAssistants", "xAB7"="Scopes",  "xAB8"="Charity",
"xAB9"="Income", "xAB10"="Funds",  "xAB11"="DrugTeach"))
#Rearrange columns for easier viewing and coding.
abE11 <- abE11%>%select(pid,cond, condLabel, dv, everything())
#Create column "cond" with generic condition
abE11[,"cond"] <- 0
abE11$cond[abE11$xAB1 > 0] <- "xAB1"
abE11$cond[abE11$xAB2 > 0] <- "xAB2"
abE11$cond[abE11$xAB3 > 0] <- "xAB3"
abE11$cond[abE11$xAB4 > 0] <- "xAB4"
abE11$cond[abE11$xAB5 > 0] <- "xAB5"
abE11$cond[abE11$xAB6 > 0] <- "xAB6"
abE11$cond[abE11$xAB7 > 0] <- "xAB7"
abE11$cond[abE11$xAB8 > 0] <- "xAB8"
abE11$cond[abE11$xAB9 > 0] <- "xAB9"
abE11$cond[abE11$xAB10 > 0] <- "xAB10"
abE11$cond[abE11$xAB11 > 0] <- "xAB11"
#Create column "condLabel"
abE11 <- mutate(abE11, condLabel = cond)
cond <- as.factor(abE11$condLabel)
abE11$condLabel <- plyr::revalue(as.factor(abE11$condLabel), c("xAB1"="Hours", "xAB2"="Drug",
"xAB3"="Oxygen", "xAB4"="Welfare", "xAB5"="Teachers", "xAB6"="HAssistants", "xAB7"="Scopes",  "xAB8"="Charity",
"xAB9"="Income", "xAB10"="Funds",  "xAB11"="DrugTeach"))
#Rearrange columns for easier viewing and coding.
abE11 <- abE11%>%select(pid,cond, condLabel, dv, everything())
#Save text file
write.csv(abE11, "abE11.csv", row.names=FALSE)
View(abE11)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
setwd("/Users/gsholtzman/Google Drive/Geisinger 2017/AB illusion/abE8")
#Load packages
library(tidyverse) #for ggplot and filter
library(readxl) #for read
library(effsize) #for cohens d
library(gridExtra) #for multi plots
library(psy) #for alpha
library(scales) #for colors
library(Rmisc) #for summary stats
library(knitr)
library(kableExtra)
library(broom)
abE8 <- read.csv("/Users/gsholtzman/Google Drive/Geisinger 2017/AB illusion/abE8/abE10.csv")
#A/B Illusion Experiment abE8
rm(list = ls())
setwd("/Users/gsholtzman/Google Drive/Geisinger 2017/AB illusion/abE8")
#Load packages
library(tidyverse) #for ggplot and filter
library(readxl) #for read
library(effsize) #for cohens d
library(gridExtra) #for multi plots
library(psy) #for alpha
library(scales) #for colors
library(Rmisc) #for summary stats
library(knitr)
library(kableExtra)
library(broom)
abE8 <- read.csv("/Users/gsholtzman/Google Drive/Geisinger 2017/AB illusion/abE8/abE8.csv")
abE8[is.na(abE8)] <- 0
abE8$condLabel <- factor(abE8$condLabel, levels=c("xA1"="OKC.very", "xB1"="OKC.somewhat", "xAB1"="OKC.AB", "xA2"="Genes1.cancer", "xB2"="Genes1.dementia", "xAB2"="Genes1.AB", "xA3"="Genes2.actionable", "xB3"="Genes2.all", "xAB3"="Genes2.AB", "xA4"="AV.lever", "xB4"="AV.auto", "xAB4"="AV.AB"))
ggplot(abE8) +
geom_bar(mapping = aes(x = dv, y = (..prop..)*100), fill = 'red', color = 'black', width = .75) +
facet_wrap(~ condLabel, ncol = 3) +
scale_y_continuous(limits=c(0, 100), expand = c(0,0), breaks = seq(0, 100, 20), minor_breaks = seq(0, 100, 10)) +
theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank(), panel.background = element_blank()) +
ylab('% participants providing each rating') +
xlab('Appropriateness (1. Very Inappropriate <---> 5. Very Appropriate)')
rm(list = ls())
setwd("/Users/gsholtzman/Dropbox/ABI Archive Cleaned/abE3")
abE3 <- read.csv("/Users/gsholtzman/Dropbox/ABI Archive Cleaned/abE3/abE3.csv")
#Load packages
library(tidyverse) #for ggplot and filter
library(readxl) #for read
library(effsize) #for cohens d
library(gridExtra) #for multi plots
library(psy) #for alpha
library(scales) #for colors
library(Rmisc) #for summary stats
library(knitr)
library(kableExtra)
library(broom)
abE10$[abE10 == 0] <- NA
View(abE3)
abE10$[abE10 == 0] <- NA
abE10[abE10 == 0] <- NA
```{r echo=FALSE, include=FALSE}
list = ls())
rm(list = ls())
setwd("/Users/gsholtzman/Dropbox/ABI Archive Cleaned/abE10")
abE10 <- read.csv("/Users/gsholtzman/Dropbox/ABI Archive Cleaned/abE3/abE10.csv")
abE10 <- read.csv("/Users/gsholtzman/Dropbox/ABI Archive Cleaned/abE10/abE10.csv")
View(abE10)
